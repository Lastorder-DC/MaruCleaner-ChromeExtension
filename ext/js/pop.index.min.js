function GetAxiosData(t,e){var a=$("li.list-"+t).children("div.icon"),n="";axios.get(dom.url+e.link[1]).then(function(o){if(a.empty(),reg=new RegExp(/\<option (.*)\>(\n|\r)(.+)/,"g"),arr=o.data.match(reg),null==arr)n="findError";else{arr=arr.slice(0,arr.length/2);var i=[arr.length];arr.forEach(function(t,e){i[e]=[,],i[e][0]=t.match(/\t+(.+)\t+/)[1],i[e][0]=i[e][0],i[e][1]=t.match(/\"(.+)\"/)[1]}),i.forEach(function(t,a){-1!=t[0].search(/([\uAC00-\uAD8B]|[\uAD8D-\uD0C3]|[\uD0C5-\uD3B7]|[\uD3B9-\uD653]|[\uD655-\uD7A3]+)/)?arr.splice(a,1):e.link[1]==i[a][1]&&(savedIndex=a)}),n=savedIndex>=Number(arr.length-1)?"pass":"update",data[t].updateIcon=n,IconType(t,n),t+1==data.length&&setSyncListData()}}).catch(function(e){$("li.list-"+t).children("div.icon").empty()})}function IconType(t,e){switch(e){case"update":setChangeIcon(t,"flash","최신화가 업데이트 되었있습니다.");break;case"pass":setChangeIcon(t,"clock-o","마지막에 본 화로부터 업데이트가 없었습니다.");break;case"shrotTime":setChangeIcon(t,"spinner-time-alt","얼마전에 업데이트를 확인했습니다.");break;case"unknownError":setChangeIcon(t,"exclamation","알 수 없는 이유로 업데이트를 확인할 수 없습니다.");break;case"findError":setChangeIcon(t,"exclamation","현재 위치를 찾을 수 없습니다.");break;default:setChangeIcon(t,"exclamation","정의되지 값이 전달되었습니다.")}}function setChangeIcon(t,e,a){$("li.list-"+t).children("div.icon").html("<i class='fonti um-"+e+" toggling'><div class='hide'>"+a+"</div></i>")}function statusIconUpdate(){$.each(dom.list,function(t,e){void 0==dom.lastUpdate.data||dom.lastUpdate.data[e.link[1]]||IconType(t,dom.lastUpdate.data[e.link[1]])})}function setUpdateTime(){chrome.storage.sync.set({update:dom.lastUpdate},function(){})}function setPrevIcon(){}function setSyncListData(){chrome.storage.sync.set({data:data},function(){})}data={},chrome.storage.sync.get({opt:opt},function(t){void 0==t||""==t||(opt=t.opt)}),dom={url:"http://wasabisyrup.com/archives/",lastUpdate:0,list:function(){return new Promise(function(t,e){$(".my-list").empty(),dom.lastUpdate+300<Math.floor((new Date).getTime()/1e3)?updateFlag=1:updateFlag=0,$.each(data,function(t,e){base=$(".my-list").append("<li class='w12 list-"+t+"'><div class='w10 only-line go hand p3 name-line' link='"+dom.url+e.link[1]+"'><span class='bold'>["+e.link[0].trim()+"]</span> "+e.name+"</div><div class='w1 center b5 small-color icon'><i class='fonti um-spinner-alt spinner-alt um-pulse'></i></div><div class='w1 center tred del hand p3 b5' no='"+t+"'><i class='fonti um-trash'></i></div></li>"),e.updateIcon&&IconType(t,e.updateIcon)}),t()})},updateCheck:function(){$.each(data,function(t,e){type=GetAxiosData(t,e)})}},$(document).ready(function(){function t(){search_link="http://marumaru.in/?r=home&mod=search&keyword="+encodeURI($("input.search").val()),chrome.tabs.create({url:search_link})}1==opt.off&&($(".title-name").addClass("text-grey"),$("img.logo").addClass("grey")),$("input.search").focus(),chrome.storage.sync.get("update",function(t){dom.lastUpdate=t.update,chrome.storage.sync.get("data",function(t){void 0==t||0==t.length?data=[]:(data=t.data,dom.list().then(function(){new Promise(function(t,e){$.each(data,function(t,e){type=GetAxiosData(t,e)}),t()}).then(function(){}).then(function(){dom.lastUpdate=Math.floor((new Date).getTime()/1e3),setUpdateTime()})}))})}),$(document).on("click","div.go",function(){chrome.tabs.create({url:$(this).attr("link")})}),$(document).on("click","div.del",function(){no=$(this).attr("no"),data.splice(no,1),dom.list(),save={json:JSON.stringify(data.reverse())},chrome.storage.sync.set({data:data.reverse()},function(){})}),$(document).on("click","button.search-btn",function(){t()}),$(document).on("keydown","input.search",function(e){13==e.keyCode&&t()})});