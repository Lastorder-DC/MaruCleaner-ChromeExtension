save={json:""},opt={set:{CATAssistant:!1,QuickKey:!0,autoBookMark:!0,denyRequest:!0,forcedRemove:!0},off:!1},nameArray=["CAT 보조","키보드로 움직이기","북마크 자동 저장","script 차단","root 강제 제거"],infoArray=["Comic Asstants Tool호환 모드로 작동합니다.<br>CAT를 사용하지 않으실 경우 꺼주세요.","방향키를 이용해 만화 페이지를 이동 할 수 있습니다.","보고있는 만화를 자동으로 클리너 북마크에 저장합니다.","마루마루 페이지에서 자동으로 불러와지는 script를 자동으로 차단합니다.<br> <span class='small'>해제시 페이지 로딩속도가 느려질 수 있습니다.</span>","root문서를 강제로 제거하고 페이지를 새로 만듭니다. <br> <span class='small'>해제시 페이지 로딩속도가 느려질 수 있습니다.</span>"],chrome.storage.sync.get({opt:opt},function(o){void 0==o||""==o||(opt=o.opt),console.log(o);var t=0;$.each(opt.set,function(o,n){1==n?$("ul.on-opt").append("<li class='w12 toggling hand' opt='"+o+"'><div class='hide'>"+infoArray[t]+"</div><span class='bold'>"+nameArray[t]+"</span> 사용</li>"):$("ul.off-opt").append("<li class='w12 toggling hand' opt='"+o+"'><div class='hide'>"+infoArray[t]+"</div><span class='bold'>"+nameArray[t]+"</span> 사용</li>"),t++})});var saveOpt=function(o){chrome.storage.sync.set({opt:o},function(){})},moveMain=function(){location.href="./popup.html"};$(document).ready(function(){console.log(opt),1==opt.off&&$(".extension-off").addClass("blue").removeClass("red").html("사용시작"),$(document).on("click","button.remove-all",function(){chrome.storage.sync.set(save,function(){moveMain()})}),$(document).on("click","button.back",function(){moveMain()}),$(document).on("click","li.toggling",function(){var o=$(this).parent().hasClass("on-opt");1==o?($(this).appendTo("ul.off-opt"),opt.set[$(this).attr("opt")]=!1,saveOpt(opt)):($(this).appendTo("ul.on-opt"),opt.set[$(this).attr("opt")]=!0,saveOpt(opt))}),$(document).on("mouseover","li.toggling",function(){$("body").append("<div class='popBox'></div>"),$("div.popBox").html($(this).children("div.hide").html()),offsetX=Number($(this).offset().top)-Number($("div.popBox").outerHeight())-20,console.log(offsetX),$("div.popBOx").css("top",offsetX)}),$(document).on("mouseout","li.toggling",function(){$("div.popBox").remove()}),$(document).on("click",".extension-off",function(){opt.off=!opt.off,saveOpt(opt),moveMain()})});